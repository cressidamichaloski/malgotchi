package malware_gotchi;

import java.util.Scanner;
import java.util.Random;

class LeftRightGame extends AbstractGame {
	LeftRightGame() {
		file = new FileHandler("petData.csv");
		name = "Left Right";
		batteriesEarned = 3;
		happinessEarned = 5;
		happinessLost = -3.0;
		instructions = "You will be prompted with 1 or 2, where 1 = left and 2 = right.\n"
				+ "if you answer incorrectly 3 times, you lose.\n"
				+ "But if you answer correctly 3 times, you win!";
	}
	
	@Override
	protected void play(Scanner sc, Pet myPet) { //this is where the actually game stuff goes
		//temporary temp for win/lose funcs
		int wins = 0;
		int losses = 0;
		Random rand = new Random();
		String input;
		String[] options = {"1","2"};
		String petDir;
		String petDirStr;
		boolean go = false;
		while(wins < 3 && losses < 3) {
			System.out.println("Pick a direction:\n"
					+ "1: Left\n"
					+ "2: Right");
			input = sc.next();
			
			
			while (!go) {
				for(String i:options) {
					if (input.equals(i)) {
						go = true;
					}
				}
				if (!go) {
					System.out.println("Invalid input. Please try again. ");
					input = sc.next();
				}
				
			}
			go = false;
			
			
			petDir = Integer.toString(rand.nextInt(2)+1);
			if (petDir.equals("1")) {petDirStr = "Left";}
			else {petDirStr = "Right";}
			System.out.println("Your pet picked "+petDirStr);
			if (petDir.equals(input)){
				System.out.println("You won this round!");
				wins ++;
			}
			else {
				System.out.println("You lost this round...");
				losses ++;
			}
		}
		if (wins == 3) {
			won(myPet);
		} else {lost(myPet);
		}
		
	}
	
}