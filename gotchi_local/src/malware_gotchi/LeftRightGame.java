package malware_gotchi;

import java.util.Scanner;
import java.util.Random;

class LeftRightGame extends AbstractGame {
	LeftRightGame() {
		file = new FileHandler("petData.csv");
		name = "Left Right";
		batteriesEarned = 3;
		happinessEarned = 5;
		happinessLost = -3.0;
		instructions = "On each round, your pet will pick a direction, either left or right.\n"
				+ "You have to try to guess that direction."
				+ "If you answer correctly three times, you win!\n"
				+ "But if you get it wrong three times, you lose.";
	}
	
	@Override
	protected void play(Scanner sc, Pet myPet) { //this is where the actually game stuff goes
		//temporary temp for win/lose funcs
		int wins = 0;
		int losses = 0;
		Random rand = new Random(); //object for random purposes
		String input;
		String[] options = {"1","2"};
		String petDir;
		String petDirStr;
		boolean go = false;
		while(wins < 3 && losses < 3) {
			System.out.println("Pick a direction:\n"
					+ "1: Left\n"
					+ "2: Right");
			input = sc.nextLine();
			
			
			while (!go) {//check for correct input
				for(String i:options) {
					if (input.equals(i)) {
						go = true;
					}
				}
				if (!go) {
					System.out.println("Invalid input. Please try again. ");
					input = sc.nextLine();
				}
				
			}
			go = false;
			
			
			petDir = Integer.toString(rand.nextInt(2)+1); //get pet direction as Stringed Number
			if (petDir.equals("1")) { //get either 'left' or 'right' from the number
				petDirStr = "Left";
				//ASCII ART GO HERE
			}
			else {
				petDirStr = "Right";
				//ASCII ART GO HERE
			}
			System.out.println(myPet.name+" picked "+petDirStr);
			if (petDir.equals(input)){
				System.out.println("You won this round!");
				wins ++;
			}
			else {
				System.out.println("You lost this round...");
				losses ++;
			}
		}
		if (wins == 3) {
			won(myPet);
		} else {lost(myPet);
		}
		
	}
	
}