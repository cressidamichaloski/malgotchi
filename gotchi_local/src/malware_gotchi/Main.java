package malware_gotchi;
import java.net.URISyntaxException;
import java.util.Scanner;

public class Main {
    public static void main(String[] args){
        //System.out.println("Hello balls.");
        Boolean exit = false;
        Scanner sc = new Scanner(System.in);
        ASCIISprites sprite = new ASCIISprites();
        GUI gui = new GUI();
        
   	 	String jarPath = "";
		try {
			jarPath = Pet.class
			          .getProtectionDomain()
			          .getCodeSource()
			          .getLocation()
			          .toURI()
			          .getPath();
			//gui.appendMain(jarPath.replace("derailed.jar", "").replace("/bin", ""));
		} catch (URISyntaxException e) {
			e.printStackTrace();
		}
		
        Pet myPet = new Pet(jarPath.replace("derailed.jar", "").replace("/bin", "")+"/petData.csv", gui, sprite); 
        
        myPet.waiting();

        int ans;
        String ansStr;
        //boolean go = false;
        String[] options = {"1","2","3","4","5", "6", "7"};
        //String menuString;
        

        do{
        	myPet.doMalware(gui);
        	sprite.showSprite(myPet, gui);
        	myPet.stats(gui);
        	myPet.checkBirthday();
        	
        	
            System.out.println("What would you like to do?" + '\n' +
            "1. Charge " + myPet.name + " [" + myPet.batteries +"/5 batteries]" + '\n' + 
            "2. Play Game" + '\n' + 
            "3. Pet " + myPet.name + '\n' + 
            "4. Sleep"+'\n'+
            "5. Instructions" + '\n' +
            "6. Exit" + '\n' +
            "7. Debug Mode" + '\n');

//            ansStr = sc.nextLine();
//            go = false;
//            while(!go) {
//            	for(String i:options) {
//            		if(ansStr.equals(i)){
//            			go = true;
//            		}
//            	}
//            	if(!go) {
//            		System.out.println("Invalid input. Please try again. ");
//            		ansStr = sc.nextLine();
//            	}
//            }
            
            gui.appendMain("What would you like to do?" + '\n' +
                    "1. Charge " + myPet.name + " [" + myPet.batteries +"/5 batteries]" + '\n' + 
                    "2. Play Game" + '\n' + 
                    "3. Pet " + myPet.name + '\n' + 
                    "4. Sleep"+'\n'+
                    "5. Instructions\n" +
                    "6. Exit" + '\n'+
                    "7. Debug Mode" + '\n');
            ansStr = gui.menu(options);
            
            ans = Integer.valueOf(ansStr);
            
            switch(ans){
                case 1:
                myPet.feed(gui);
                break;

                case 2:
                myPet.game(gui, myPet);
                break;

                case 3: 
                myPet.pet(gui);
                break;
                
                case 4:
                myPet.sleep(gui, myPet);
                break;

                case 5:
                myPet.instructions(gui);
                break;
                
                case 6:
                sc.close();
                exit = true;
                break;
                
                case 7:
                myPet.debug(gui, myPet);
                break;
                
            }  
        } while(!exit);
        System.exit(0);
    }
}